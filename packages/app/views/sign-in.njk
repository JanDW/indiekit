{% extends "_form.njk" %}

{% set title = __("Sign in") if not session.me else __("Welcome back") %}

{% block fieldset %}
  {{ errorSummary({
    title: {
      text: __("There was a problem")
    },
    description: {
      text: error
    }
  }) | indent(2) if error }}

  {% if not session.me %}
    {{ input({
      id: "url",
      name: "url",
      label: {
        text: __("Web address")
      },
      type: "url",
      value: errors.url.value,
      errorMessage: {
        text: errors.url.msg,
        label: __("Error")
      } if errors.url
    }) | indent(2) }}

    {{ input({
      name: "redirect_uri",
      field: {
        classes: "visually-hidden"
      },
      type: "hidden",
      value: redirect_uri
    }) | indent(2) }}

    {{ button({
      text: __("Sign in")
    }) | indent(2) }}
  {% else %}
    <a href="/sign-out">Sign out</a>
  {% endif %}
{% endblock %}
{% extends "_document.njk" %}

{% set title = "Config" %}

{% block content %}
    <h3>{{ __("config.app.title") }}</h3>
    {{ summary({
      rows: [{
        key: {
          text: __("config.app.me.label")
        },
        value: {
          text: app.me
        }
      }, {
        key: {
          text: __("config.app.token.label")
        },
        value: {
          text: app.token
        }
      }, {
        key: {
          text: __("config.app.locale.label")
        },
        value: {
          text: __("locale." + app.locale)
        },
        actions: {
          items: [{
            href: "/config/app?referrer=/config",
            text: __("Edit"),
            visuallyHiddenText: "locale"
          }]
        }
      }, {
        key: {
          text: __("config.app.publisher.label")
        },
        value: {
          text: __("publisher." + app.publisher)
        },
        actions: {
          items: [{
            href: "/config/app?referrer=/config",
            text: __("Edit"),
            visuallyHiddenText: "publisher"
          }]
        }
      }, {
        key: {
          text: __("config.app.themeColor.label")
        },
        value: {
          text: "<span style=\"color:" + app.themeColor + "\" aria-hidden\"true\">‚óè</span> " + app.themeColor
        },
        actions: {
          items: [{
            href: "/config/app?referrer=/config",
            text: __("Edit"),
            visuallyHiddenText: "theme color"
          }]
        }
      }]
    }) }}

    <h3>{{ __("config.publisher.title") }}</h3>
    {{ summary({
      rows: [{
        key: {
          text: __("config.publisher.user.label")
        },
        value: {
          text: publisher.user
        },
        actions: {
          items: [{
            href: "/config/publisher?referrer=/config",
            text: __("Edit"),
            visuallyHiddenText: "username"
          }]
        }
      }, {
        key: {
          text: __("config.publisher.repo.label")
        },
        value: {
          text: publisher.repo
        },
        actions: {
          items: [{
            href: "/config/publisher?referrer=/config",
            text: __("Edit"),
            visuallyHiddenText: "repository"
          }]
        }
      }, {
        key: {
          text: __("config.publisher.branch.label")
        },
        value: {
          text: publisher.branch
        },
        actions: {
          items: [{
            href: "/config/publisher?referrer=/config",
            text: __("Edit"),
            visuallyHiddenText: "branch"
          }]
        }
      }, {
        key: {
          text: __("config.publisher.token.label")
        },
        value: {
          text: publisher.token
        },
        actions: {
          items: [{
            href: "/config/publisher?referrer=/config",
            text: __("Edit"),
            visuallyHiddenText: "token"
          }]
        }
      }]
    }) }}
{% endblock %}